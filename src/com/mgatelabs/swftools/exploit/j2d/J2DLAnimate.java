package com.mgatelabs.swftools.exploit.j2d;

import java.awt.*;

public class J2DLAnimate extends J2DShape {
    private int mySteps;
    private int myStep;

    private float x1, x2, y1, y2;
    private float xd, yd;

    private J2DShape myShape;

    public J2DLAnimate(J2DShape aShape, int steps, float x1, float y1, float x2, float y2) {
        super(x1, y1);
        myShape = aShape;

        this.x1 = x1;
        this.y1 = y1;
        this.x2 = x2;
        this.y2 = y2;

        mySteps = steps;
        myStep = 0;

        xd = x1 - x2;
        yd = y1 - y2;
    }

    public void set(float x, float y) {

    }

    public boolean hit(float x, float y) {
        return false;
    }

    public int getID() {
        return -1;
    }

    public void render(Graphics2D g2) {
        // Update Time

        float per = ((float) myStep / (float) mySteps);
        if (per > 1.0f) {
            per = 1.0f;
        }

        //System.out.println( per + "%");

        //System.out.println(  (x1 +(xd * per)) + ":" + (y1 + (yd * per)) );

        myStep++;


        myShape.set(x1 - (xd * per), y1 - (yd * per));
        myShape.render(g2);
    }
}