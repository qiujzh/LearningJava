/*
    Copyright M-Gate Labs 2007
*/

/**
 <p>
 <b>SVG Setup</b>
 </p>
 <p>
 Used to setup a svg files headers
 </p>
 */

package com.mgatelabs.swftools.exploit.io;

import com.mgatelabs.swftools.support.swf.objects.FMovie;
import com.mgatelabs.swftools.support.xml.XMLNode;

public class ExportSvgHelper {
    public static XMLNode createSvgHeader(FMovie aMovie) {
        XMLNode rootNode = new XMLNode("svg");

        rootNode.addProperty("version", "1.1");

        rootNode.addProperty("xmlns", "http://www.w3.org/2000/svg");
        rootNode.addProperty("xmlns:xlink", "http://www.w3.org/1999/xlink");
        rootNode.addProperty("xmlns:ev", "http://www.w3.org/2001/xml-events");

        rootNode.addProperty("width", ((aMovie.getRect().xmax - aMovie.getRect().xmin) / 20.0f) + "px");
        rootNode.addProperty("height", ((aMovie.getRect().ymax - aMovie.getRect().ymin) / 20.0f) + "px");
        rootNode.addProperty("overflow", "visible");
        rootNode.addProperty("viewBox", (aMovie.getRect().xmin / 20.0f) + " " + (aMovie.getRect().ymin / 20.0f) + " " + ((aMovie.getRect().xmax - aMovie.getRect().xmin) / 20.0f) + " " + ((aMovie.getRect().ymax - aMovie.getRect().ymin) / 20.0f));
        rootNode.addProperty("enable-background", "new " + (aMovie.getRect().xmin / 20.0f) + " " + (aMovie.getRect().ymin / 20.0f) + " " + ((aMovie.getRect().xmax - aMovie.getRect().xmin) / 20.0f) + " " + ((aMovie.getRect().ymax - aMovie.getRect().ymin) / 20.0f));

        return rootNode;
    }
}